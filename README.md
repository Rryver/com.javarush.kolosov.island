# Модель острова (Console Application)

-------------------

### Запуск приложения
- из файла com.javarush.kolosov.island.Application
-------------------

Структура директорий
-------------------

```
src/main
    java/              
        config/             настройки симуляции острова
        entities/           сущности
        repository/         классы генерации данных
        services/           классы для работы с симуляцией
            /lifeCycle      классы для выполенния жизненного цикла организмов
            /printer        классы для вывода информации на экран
            Simulation.java основной класс для запуска симуляции
        utils/              вспомогательные классы
        Application.java    точка входа в приложение
    resources/
        settings.json       файл настроек
```

-------

## Жизненный цикл каждого животного:
- `Старт дня`
  - Проверка прошло ли достаточно дней для смерти от голода


- `Передвижение` 
  - Поиск случайной клетки для передвижения в нее в зависимости от скорости
 
 
- `Получение пищи` 
  - Животное пытается поймать каждое животное, которое 
  есть на его клетке и которых есть шанс поймать, пока не наестся или пока не закончится список животных
 
 
- `Размножение` - 
  - Животное размножается, если оно не голодное и есть еще одно животное того же типа на этой клетке   
 
 
- `Конец дня` 
  - Проверка голодное ли. Если голодное увеличение кол-ва дней без еды

## Жизненный цикл каждого растения:
- `Размножение` - Каждое растение порождает еще одно растение

------

## Конфигурация симуляции
- Конфигурировать настройки можно в файле `/resources/settings.json`
- Файл загружается приложением при запуске приложения.

### Возможые настройки
- `islandWidth` - `int` -  Ширина острова (клеток)
- `islandHeight` - `int` -  Высота острова (клеток)
- `daysWithoutEatToDie` - `int` - Кол-во дней, через которое животное умрет, если не поест
- `stopSimulationAfterDays` - `int` -  Кол-во дней, через которое необходимо остановить симуляцию
- `lifeCycleIntervalMillis` - `int` - Длительность дня в миллисекундах (интервал, через который 
  будут выставляться новые задачи жизненного цикла для животных),
  
- `plantsGrowsIntervalMillis` - `int` - Скорость роста растений в миллисекундах (интервал, через который 
  растения будут выполнять "размножение").
  
- `printInfoMethod` - `String` - Метод вывода информации на консоль.,
  - Возможные варианты: 
    - `OnlyCountOrganisms` - Выводится общее кол-во каждого животного на всём острове
    - `EveryCell` - Выводится информация по каждой клетке

-  `organismParams` - `Object` - Настройки животных 
- `Wolf` - `Object` - Настройка животного. Имя необходимо указывать из заранее определенного списка `ConfigNameOrganismsClass`
### Возможные настройки животного
- `weight` - `int` - Вес животного 
- `maxountOnCell` - `int` - Максимальное кол-во на клетке
- `speed` - `int` - скорость перемещения (в клетках)
- `needatToBeFull` - `int` - Необходимо еды для полного насыщения
- `icon` - `String` - Иконка.
- `eathances` - `Object` - шансы съесть других животных. Если не задан, то животное не может съесть никого
#### Пример данных в объекте `eatChances`
`Horse` - `int` - Шанс съесть Horse равен 10%

### Пример settings.json объекта:
```json
{
  "islandWidth": 100,
  "islandHeight": 20,
  "daysWithoutEatToDie": 3,
  "stopSimulationAfterDays": 0,
  "lifeCycleIntervalMillis": 1000,
  "plantsGrowsIntervalMillis": 500,
  "printInfoMethod": "OnlyCountOrganisms",
  "organismParams": {
    "Wolf": {
      "weight": 50,
      "maxCountOnCell": 30,
      "speed": 3,
      "needEatToBeFull": 8,
      "icon": "\uD83D\uDC3A",
      "eatChances": {
        "Horse": 10,
        "Deer": 15
      }
    },

    "Horse": {
      "weight": 400,
      "maxCountOnCell": 20,
      "speed": 4,
      "needEatToBeFull": 60,
      "icon": "\uD83D\uDC0E",
      "eatChances": {
        "Plant": 100
      }
    },

    "Plant": {
      "weight": 1,
      "maxCountOnCell": 200,
      "icon": "\uD83C\uDF31"
    }
  }
}
```
